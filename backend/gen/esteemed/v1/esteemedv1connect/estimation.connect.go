// Code generated by protoc-gen-connect-go. DO NOT EDIT.
//
// Source: esteemed/v1/estimation.proto

package esteemedv1connect

import (
	connect "connectrpc.com/connect"
	context "context"
	errors "errors"
	v1 "github.com/vicmanager/esteemed/backend/gen/esteemed/v1"
	http "net/http"
	strings "strings"
)

// This is a compile-time assertion to ensure that this generated file and the connect package are
// compatible. If you get a compiler error that this constant is not defined, this code was
// generated with a version of connect newer than the one compiled into your binary. You can fix the
// problem by either regenerating this code with an older version of connect or updating the connect
// version compiled into your binary.
const _ = connect.IsAtLeastVersion1_13_0

const (
	// EstimationServiceName is the fully-qualified name of the EstimationService service.
	EstimationServiceName = "esteemed.v1.EstimationService"
)

// These constants are the fully-qualified names of the RPCs defined in this package. They're
// exposed at runtime as Spec.Procedure and as the final two segments of the HTTP route.
//
// Note that these are different from the fully-qualified method names used by
// google.golang.org/protobuf/reflect/protoreflect. To convert from these constants to
// reflection-formatted method names, remove the leading slash and convert the remaining slash to a
// period.
const (
	// EstimationServiceCastVoteProcedure is the fully-qualified name of the EstimationService's
	// CastVote RPC.
	EstimationServiceCastVoteProcedure = "/esteemed.v1.EstimationService/CastVote"
	// EstimationServiceRevealVotesProcedure is the fully-qualified name of the EstimationService's
	// RevealVotes RPC.
	EstimationServiceRevealVotesProcedure = "/esteemed.v1.EstimationService/RevealVotes"
	// EstimationServiceResetRoundProcedure is the fully-qualified name of the EstimationService's
	// ResetRound RPC.
	EstimationServiceResetRoundProcedure = "/esteemed.v1.EstimationService/ResetRound"
	// EstimationServiceSetTopicProcedure is the fully-qualified name of the EstimationService's
	// SetTopic RPC.
	EstimationServiceSetTopicProcedure = "/esteemed.v1.EstimationService/SetTopic"
	// EstimationServiceWatchVotesProcedure is the fully-qualified name of the EstimationService's
	// WatchVotes RPC.
	EstimationServiceWatchVotesProcedure = "/esteemed.v1.EstimationService/WatchVotes"
)

// EstimationServiceClient is a client for the esteemed.v1.EstimationService service.
type EstimationServiceClient interface {
	// CastVote submits a vote (hidden until reveal)
	CastVote(context.Context, *connect.Request[v1.CastVoteRequest]) (*connect.Response[v1.CastVoteResponse], error)
	// RevealVotes makes all votes visible (host only)
	RevealVotes(context.Context, *connect.Request[v1.RevealVotesRequest]) (*connect.Response[v1.RevealVotesResponse], error)
	// ResetRound clears all votes and starts a new round
	ResetRound(context.Context, *connect.Request[v1.ResetRoundRequest]) (*connect.Response[v1.ResetRoundResponse], error)
	// SetTopic sets the current item being estimated
	SetTopic(context.Context, *connect.Request[v1.SetTopicRequest]) (*connect.Response[v1.SetTopicResponse], error)
	// WatchVotes streams real-time vote status and results
	WatchVotes(context.Context, *connect.Request[v1.WatchVotesRequest]) (*connect.ServerStreamForClient[v1.VoteEvent], error)
}

// NewEstimationServiceClient constructs a client for the esteemed.v1.EstimationService service. By
// default, it uses the Connect protocol with the binary Protobuf Codec, asks for gzipped responses,
// and sends uncompressed requests. To use the gRPC or gRPC-Web protocols, supply the
// connect.WithGRPC() or connect.WithGRPCWeb() options.
//
// The URL supplied here should be the base URL for the Connect or gRPC server (for example,
// http://api.acme.com or https://acme.com/grpc).
func NewEstimationServiceClient(httpClient connect.HTTPClient, baseURL string, opts ...connect.ClientOption) EstimationServiceClient {
	baseURL = strings.TrimRight(baseURL, "/")
	estimationServiceMethods := v1.File_esteemed_v1_estimation_proto.Services().ByName("EstimationService").Methods()
	return &estimationServiceClient{
		castVote: connect.NewClient[v1.CastVoteRequest, v1.CastVoteResponse](
			httpClient,
			baseURL+EstimationServiceCastVoteProcedure,
			connect.WithSchema(estimationServiceMethods.ByName("CastVote")),
			connect.WithClientOptions(opts...),
		),
		revealVotes: connect.NewClient[v1.RevealVotesRequest, v1.RevealVotesResponse](
			httpClient,
			baseURL+EstimationServiceRevealVotesProcedure,
			connect.WithSchema(estimationServiceMethods.ByName("RevealVotes")),
			connect.WithClientOptions(opts...),
		),
		resetRound: connect.NewClient[v1.ResetRoundRequest, v1.ResetRoundResponse](
			httpClient,
			baseURL+EstimationServiceResetRoundProcedure,
			connect.WithSchema(estimationServiceMethods.ByName("ResetRound")),
			connect.WithClientOptions(opts...),
		),
		setTopic: connect.NewClient[v1.SetTopicRequest, v1.SetTopicResponse](
			httpClient,
			baseURL+EstimationServiceSetTopicProcedure,
			connect.WithSchema(estimationServiceMethods.ByName("SetTopic")),
			connect.WithClientOptions(opts...),
		),
		watchVotes: connect.NewClient[v1.WatchVotesRequest, v1.VoteEvent](
			httpClient,
			baseURL+EstimationServiceWatchVotesProcedure,
			connect.WithSchema(estimationServiceMethods.ByName("WatchVotes")),
			connect.WithClientOptions(opts...),
		),
	}
}

// estimationServiceClient implements EstimationServiceClient.
type estimationServiceClient struct {
	castVote    *connect.Client[v1.CastVoteRequest, v1.CastVoteResponse]
	revealVotes *connect.Client[v1.RevealVotesRequest, v1.RevealVotesResponse]
	resetRound  *connect.Client[v1.ResetRoundRequest, v1.ResetRoundResponse]
	setTopic    *connect.Client[v1.SetTopicRequest, v1.SetTopicResponse]
	watchVotes  *connect.Client[v1.WatchVotesRequest, v1.VoteEvent]
}

// CastVote calls esteemed.v1.EstimationService.CastVote.
func (c *estimationServiceClient) CastVote(ctx context.Context, req *connect.Request[v1.CastVoteRequest]) (*connect.Response[v1.CastVoteResponse], error) {
	return c.castVote.CallUnary(ctx, req)
}

// RevealVotes calls esteemed.v1.EstimationService.RevealVotes.
func (c *estimationServiceClient) RevealVotes(ctx context.Context, req *connect.Request[v1.RevealVotesRequest]) (*connect.Response[v1.RevealVotesResponse], error) {
	return c.revealVotes.CallUnary(ctx, req)
}

// ResetRound calls esteemed.v1.EstimationService.ResetRound.
func (c *estimationServiceClient) ResetRound(ctx context.Context, req *connect.Request[v1.ResetRoundRequest]) (*connect.Response[v1.ResetRoundResponse], error) {
	return c.resetRound.CallUnary(ctx, req)
}

// SetTopic calls esteemed.v1.EstimationService.SetTopic.
func (c *estimationServiceClient) SetTopic(ctx context.Context, req *connect.Request[v1.SetTopicRequest]) (*connect.Response[v1.SetTopicResponse], error) {
	return c.setTopic.CallUnary(ctx, req)
}

// WatchVotes calls esteemed.v1.EstimationService.WatchVotes.
func (c *estimationServiceClient) WatchVotes(ctx context.Context, req *connect.Request[v1.WatchVotesRequest]) (*connect.ServerStreamForClient[v1.VoteEvent], error) {
	return c.watchVotes.CallServerStream(ctx, req)
}

// EstimationServiceHandler is an implementation of the esteemed.v1.EstimationService service.
type EstimationServiceHandler interface {
	// CastVote submits a vote (hidden until reveal)
	CastVote(context.Context, *connect.Request[v1.CastVoteRequest]) (*connect.Response[v1.CastVoteResponse], error)
	// RevealVotes makes all votes visible (host only)
	RevealVotes(context.Context, *connect.Request[v1.RevealVotesRequest]) (*connect.Response[v1.RevealVotesResponse], error)
	// ResetRound clears all votes and starts a new round
	ResetRound(context.Context, *connect.Request[v1.ResetRoundRequest]) (*connect.Response[v1.ResetRoundResponse], error)
	// SetTopic sets the current item being estimated
	SetTopic(context.Context, *connect.Request[v1.SetTopicRequest]) (*connect.Response[v1.SetTopicResponse], error)
	// WatchVotes streams real-time vote status and results
	WatchVotes(context.Context, *connect.Request[v1.WatchVotesRequest], *connect.ServerStream[v1.VoteEvent]) error
}

// NewEstimationServiceHandler builds an HTTP handler from the service implementation. It returns
// the path on which to mount the handler and the handler itself.
//
// By default, handlers support the Connect, gRPC, and gRPC-Web protocols with the binary Protobuf
// and JSON codecs. They also support gzip compression.
func NewEstimationServiceHandler(svc EstimationServiceHandler, opts ...connect.HandlerOption) (string, http.Handler) {
	estimationServiceMethods := v1.File_esteemed_v1_estimation_proto.Services().ByName("EstimationService").Methods()
	estimationServiceCastVoteHandler := connect.NewUnaryHandler(
		EstimationServiceCastVoteProcedure,
		svc.CastVote,
		connect.WithSchema(estimationServiceMethods.ByName("CastVote")),
		connect.WithHandlerOptions(opts...),
	)
	estimationServiceRevealVotesHandler := connect.NewUnaryHandler(
		EstimationServiceRevealVotesProcedure,
		svc.RevealVotes,
		connect.WithSchema(estimationServiceMethods.ByName("RevealVotes")),
		connect.WithHandlerOptions(opts...),
	)
	estimationServiceResetRoundHandler := connect.NewUnaryHandler(
		EstimationServiceResetRoundProcedure,
		svc.ResetRound,
		connect.WithSchema(estimationServiceMethods.ByName("ResetRound")),
		connect.WithHandlerOptions(opts...),
	)
	estimationServiceSetTopicHandler := connect.NewUnaryHandler(
		EstimationServiceSetTopicProcedure,
		svc.SetTopic,
		connect.WithSchema(estimationServiceMethods.ByName("SetTopic")),
		connect.WithHandlerOptions(opts...),
	)
	estimationServiceWatchVotesHandler := connect.NewServerStreamHandler(
		EstimationServiceWatchVotesProcedure,
		svc.WatchVotes,
		connect.WithSchema(estimationServiceMethods.ByName("WatchVotes")),
		connect.WithHandlerOptions(opts...),
	)
	return "/esteemed.v1.EstimationService/", http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		switch r.URL.Path {
		case EstimationServiceCastVoteProcedure:
			estimationServiceCastVoteHandler.ServeHTTP(w, r)
		case EstimationServiceRevealVotesProcedure:
			estimationServiceRevealVotesHandler.ServeHTTP(w, r)
		case EstimationServiceResetRoundProcedure:
			estimationServiceResetRoundHandler.ServeHTTP(w, r)
		case EstimationServiceSetTopicProcedure:
			estimationServiceSetTopicHandler.ServeHTTP(w, r)
		case EstimationServiceWatchVotesProcedure:
			estimationServiceWatchVotesHandler.ServeHTTP(w, r)
		default:
			http.NotFound(w, r)
		}
	})
}

// UnimplementedEstimationServiceHandler returns CodeUnimplemented from all methods.
type UnimplementedEstimationServiceHandler struct{}

func (UnimplementedEstimationServiceHandler) CastVote(context.Context, *connect.Request[v1.CastVoteRequest]) (*connect.Response[v1.CastVoteResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("esteemed.v1.EstimationService.CastVote is not implemented"))
}

func (UnimplementedEstimationServiceHandler) RevealVotes(context.Context, *connect.Request[v1.RevealVotesRequest]) (*connect.Response[v1.RevealVotesResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("esteemed.v1.EstimationService.RevealVotes is not implemented"))
}

func (UnimplementedEstimationServiceHandler) ResetRound(context.Context, *connect.Request[v1.ResetRoundRequest]) (*connect.Response[v1.ResetRoundResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("esteemed.v1.EstimationService.ResetRound is not implemented"))
}

func (UnimplementedEstimationServiceHandler) SetTopic(context.Context, *connect.Request[v1.SetTopicRequest]) (*connect.Response[v1.SetTopicResponse], error) {
	return nil, connect.NewError(connect.CodeUnimplemented, errors.New("esteemed.v1.EstimationService.SetTopic is not implemented"))
}

func (UnimplementedEstimationServiceHandler) WatchVotes(context.Context, *connect.Request[v1.WatchVotesRequest], *connect.ServerStream[v1.VoteEvent]) error {
	return connect.NewError(connect.CodeUnimplemented, errors.New("esteemed.v1.EstimationService.WatchVotes is not implemented"))
}
